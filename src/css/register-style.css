/* ======================
   Register Page Styles
   ====================== */

/* Reset & Base Styles */
:root {
  --primary-color: #3498db;
  --primary-hover: #2980b9;
  --success-color: #16a34a;
  --danger-color: #e11d48;
  --border-color: #dfe6e9;
  --line-color: #e5e7eb;
  --text-dark: #2c3e50;
  --text-light: #7f8c8d;
  --white: #fff;
}
* { margin: 0; padding: 0; box-sizing: border-box; }

body {
  font-family: 'Poppins', sans-serif;
  display: flex;
  justify-content: center;
  align-items: flex-start;
  min-height: 100vh;
  padding: 24px 16px;
  position: relative;
}

/* Background blur */
body::before {
  content: '';
  position: fixed;
  inset: -20px;
  z-index: -1;
  background-image: url('../assets/images/HeroImage-MetroSeven.png');
  background-size: cover;
  background-position: center;
  filter: blur(8px);
}
body::after {
  content: '';
  position: fixed; inset: 0;
  z-index: -1;
  background-color: rgba(255, 255, 255, 0.5);
}

/* Container */
.form-container {
  background: rgba(255, 255, 255, 0.92);
  backdrop-filter: blur(5px);
  padding: 28px;
  border-radius: 14px;
  border: 1px solid rgba(255, 255, 255, 0.4);
  box-shadow: 0 10px 30px rgba(0,0,0,.12);
  width: 100%;
  max-width: 720px;
  animation: cardIn .2s ease;
}
@keyframes cardIn { from { transform: translateY(6px); opacity: .0; } to { transform: translateY(0); opacity: 1; } }

/* Header */
.btn-back { display: inline-block; margin-bottom: 18px; font-weight: 500; color: var(--text-light); text-decoration: none; transition: color .2s; }
.btn-back:hover { color: var(--primary-color); }
.form-logo { text-align: center; margin-bottom: 12px; }
.form-logo img { max-width: 140px; height: auto; }
.form-header h2 { text-align: center; margin-bottom: 6px; color: var(--text-dark); }
.form-header p { text-align: center; margin-bottom: 16px; color: var(--text-light); font-size: 14px; }

/* ======================
   PROGRESS STEPS (sticky)
   ====================== */
.progress-steps {
  position: sticky; top: 8px;
  background: rgba(255,255,255,.9);
  backdrop-filter: blur(3px);
  border: 1px solid var(--line-color);
  border-radius: 10px;
  padding: 10px 12px;
  display: flex; gap: 12px;
  list-style: none; margin-bottom: 18px;
  overflow: visible; /* biar layering rapi */
}
.step-item {
  flex: 1 1 0;
  display: flex; align-items: center;
  min-width: 0;
  position: relative;
  min-height: 36px; /* ruang buat label */
}
.step-item .step-index {
  width: 28px; height: 28px; min-width: 28px; border-radius: 999px;
  border: 2px solid var(--border-color);
  display: inline-flex; align-items: center; justify-content: center;
  font-weight: 700; font-size: 13px; color: var(--text-light); background: #fff; z-index: 1;
  transition: all .2s;
}
.step-item .step-label {
  margin-left: 8px;
  padding: 2px 8px;               /* tutup garis di belakang */
  background: #fff;               /* warna penutup */
  border-radius: 6px;
  position: relative;
  z-index: 1;                     /* di atas garis (::after) */
  line-height: 1.15;
  font-size: 13px; color: var(--text-light);
  white-space: nowrap; overflow: hidden; text-overflow: ellipsis;
}

/* Garis penghubung antar step */
.step-item::after {
  content: '';
  position: absolute;
  top: 50%; transform: translateY(-50%);
  left: 36px;                     /* 28px (diameter) + 8px gap */
  right: -6px;
  height: 2px;
  background: var(--line-color);
  z-index: 0;                     /* di belakang label/index */
}
.step-item:last-child::after { display: none; }

/* States */
.step-item.is-active .step-index {
  border-color: var(--primary-color);
  box-shadow: 0 0 0 3px rgba(52,152,219,0.15);
  color: var(--primary-color);
}
.step-item.is-active .step-label { color: var(--text-dark); font-weight: 600; background:#fff; }

.step-item.is-complete .step-index {
  background: var(--success-color);
  border-color: var(--success-color);
  color: #fff;
  box-shadow: 0 0 0 3px rgba(22,163,74,0.15);
}
.step-item.is-complete .step-label {
  color: var(--success-color);
  font-weight: 600;
  background: #fff; /* tetap tutup garis hijau */
}
.step-item.is-complete::after { background: var(--success-color); }

/* ======================
   Layout & Controls
   ====================== */
.form-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 16px; }
.form-group { margin-bottom: 14px; position: relative; }
.form-group.full-width { grid-column: 1 / -1; }

label { display: block; font-weight: 600; margin-bottom: 8px; color: var(--text-dark); }
.required-star { color: #e74c3c; }

.form-control {
  width: 100%; padding: 12px 14px; font-size: 15px; font-family: 'Poppins', sans-serif;
  border: 1px solid var(--border-color); border-radius: 10px; background: #fdfdfd;
  transition: all .2s ease-in-out;
}
.form-control:focus { outline: none; border-color: var(--primary-color); box-shadow: 0 0 0 3px rgba(52,152,219,0.18); }
.form-control:disabled { background-color: #ececec; cursor: not-allowed; }
.form-control::placeholder { color: #9aa4ae; }

.input-group { display: flex; align-items: stretch; }
.input-group .prefix {
  display: inline-flex; align-items: center; justify-content: center;
  padding: 0 12px; border: 1px solid var(--border-color); border-right: 0;
  border-radius: 10px 0 0 10px; background: #f3f4f6; color: #111827; min-width: 64px; font-weight: 600;
}
.input-group .form-control { border-radius: 0 10px 10px 0; }

/* Suggestions (autocomplete) */
.suggestions {
  list-style: none; margin: 0; padding: 0;
  border: 1px solid var(--border-color); border-radius: 10px;
  max-height: 220px; overflow-y: auto; position: absolute; top: calc(100% + 4px); left: 0; right: 0;
  background: var(--white); z-index: 100; box-shadow: 0 12px 24px rgba(0,0,0,.08);
}
.suggestions li { padding: 10px 14px; cursor: pointer; border-bottom: 1px dashed #f0f0f0; }
.suggestions li:last-child { border-bottom: 0; }
.suggestions li:hover, .suggestions li.selected { background: var(--primary-color); color: var(--white); }

/* Manual school */
.manual-trigger-group { display: flex; align-items: center; gap: 10px; margin-top: 8px; }
.manual-trigger-group label { margin: 0; font-size: 14px; color: var(--text-dark); font-weight: 500; cursor: pointer; }
.other-school-container { background-color: rgba(248, 249, 250, 0.8); border: 1px solid var(--border-color); border-radius: 10px; padding: 18px; margin-top: -4px; }
.manual-input-header { font-size: 14px; font-weight: 600; color: var(--text-dark); margin-bottom: 10px; }

/* Buttons */
.actions { display: flex; gap: 12px; margin-top: 12px; }
.submit-btn {
  width: 100%; padding: 14px; background: var(--primary-color); color: var(--white);
  border: none; border-radius: 10px; font-weight: 700; cursor: pointer; font-size: 16px; transition: background-color .2s ease;
}
.submit-btn:hover { background: var(--primary-hover); }
.submit-btn:disabled { background: #c4d3df; cursor: not-allowed; }
.btn { padding: 12px 16px; border: 1px solid var(--border-color); background:#fff; border-radius: 10px; cursor:pointer; font-weight: 600; }
.btn:hover { border-color: var(--primary-color); box-shadow: 0 0 0 3px rgba(52,152,219,.08); }

/* Debug & misc */
.debug-info { margin-top: 16px; font-size: 12px; color: var(--text-light); white-space: pre-wrap; background: #f9fafb; padding: 10px; border-radius: 8px; display:none; }
.field-error { color: var(--danger-color); font-size: 13px; margin-top: 6px; }
.note, .help, .muted { font-size: 13px; color: var(--text-light); }
.checkbox-inline { display:flex; align-items:center; gap:10px; cursor:pointer; }

/* Preview */
.preview { display:flex; align-items:center; gap:10px; }
.preview img { max-width:220px; border-radius:10px; display:none; }
.photo-preview { max-width:160px; border-radius:10px; display:none; }
.summary-card { background:#fff; border:1px solid #e5e7eb; border-radius:12px; padding:20px; }
.summary-card h3 { margin-bottom:12px; }

/* Radio list (Campus) */
.radio-list { display: grid; gap: 10px; }
.radio-item {
  display: flex; align-items: flex-start; gap: 10px;
  padding: 10px 12px; border: 1px solid var(--border-color);
  border-radius: 10px; background: #fff; cursor: pointer; transition: box-shadow .2s, border-color .2s;
}
.radio-item:hover { border-color: var(--primary-color); box-shadow: 0 0 0 3px rgba(52,152,219,0.08); }
.radio-item input[type="radio"] { margin-top: 3px; }
.radio-item .radio-title { font-weight: 600; color: var(--text-dark); }
.radio-item .radio-sub { font-size: 13px; color: var(--text-light); }

/* Virtual Account card */
.va-card {
  background: #fff; border: 1px solid var(--border-color); border-radius: 12px;
  padding: 16px 18px; margin-bottom: 16px;
}
.va-title { font-weight: 700; color: var(--text-dark); margin-bottom: 2px; }
.va-sub { color: var(--text-light); margin-bottom: 12px; }
.va-row { display: grid; grid-template-columns: 140px 1fr auto; gap: 10px; align-items: center; margin: 8px 0; }
.va-row .label { color: var(--text-light); font-size: 14px; }
.va-row .value { color: var(--text-dark); font-weight: 600; }
.va-row .value.code {
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace;
  letter-spacing: 0.5px; background: #f8fafc; border: 1px dashed var(--border-color);
  border-radius: 8px; padding: 6px 10px;
}
.copy-btn {
  padding: 8px 12px; border: 1px solid var(--border-color); background: #fff;
  border-radius: 10px; cursor: pointer; font-weight: 600; font-size: 13px;
}
.copy-btn:hover { border-color: var(--primary-color); box-shadow: 0 0 0 3px rgba(52,152,219,0.08); }

/* ======================
   Responsive
   ====================== */
@media (max-width: 720px) {
  .form-grid { grid-template-columns: 1fr; }
  .form-container { padding: 24px; }
}

/* Progress responsif khusus kecil: hilangkan garis, rapikan label di bawah angka */
@media (max-width: 640px) {
  .progress-steps { flex-wrap: wrap; gap: 10px; }
  .step-item { flex: 1 1 calc(50% - 10px); flex-direction: column; align-items: center; }
  .step-item::after { display: none; }     /* sembunyikan connector */
  .step-item .step-label {
    margin-left: 0; margin-top: 6px;
    text-align: center; display: block;
  }
}
